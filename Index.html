<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Betti’s Sweets — Custom Cakes in Manchester</title>
  <meta name="description" content="Custom-made artisan cakes, cupcakes and pastries in Salford, Manchester. Design your cake, get an instant estimate, and request a booking. Collection only." />
  <meta name="robots" content="index,follow" />
  <meta name="theme-color" content="#FADADD" />
  <link rel="canonical" href="https://www.bettissweets.co.uk/" />

  <!-- Performance: fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@400;600&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      /* Pastel palette */
      --blush:#FADADD;
      --peach:#F6D0B1;
      --ivory:#FFF8F0;
      --champagne:#D9B26D;
      --rosegold:#B76E79;
      --sage:#BFC9B3;

      --text:#3A2E2E;
      --muted:#6B5E5E;
      --bg:var(--ivory);
      --accent:var(--rosegold);

      --maxw:1200px;
      --radius:14px;
      --shadow:0 10px 30px rgba(0,0,0,.06);
    }

    /* Reset-ish */
    *,*::before,*::after{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;background:var(--bg);color:var(--text);
      font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      line-height:1.6;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;
    }
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}
    button{font:inherit;cursor:pointer}

    /* Typography */
    .script{font-family:"Great Vibes",cursive;letter-spacing:.3px}
    h1,h2,h3{margin:.2rem 0 1rem;color:#2b2222}
    h1{font:600 2rem "Playfair Display",serif}
    h2{font:600 1.6rem "Playfair Display",serif}
    h3{font:600 1.2rem "Playfair Display",serif}
    p{margin:.6rem 0}

    /* Layout */
    .wrap{max-width:var(--maxw);margin:0 auto;padding:0 20px}

    /* Header */
    header{
      position:sticky;top:0;z-index:50;background:rgba(255,248,240,.85);
      backdrop-filter:saturate(150%) blur(8px);border-bottom:1px solid #f1e7db;
    }
    .nav{display:flex;align-items:center;justify-content:space-between;height:64px}
    .brand{display:flex;gap:12px;align-items:center}
    .brand img{height:36px;width:auto}
    .brand .wordmark{font:600 18px "Playfair Display",serif;letter-spacing:.3px}
    nav ul{display:flex;gap:18px;list-style:none;padding:0;margin:0}
    nav a{padding:8px 10px;border-radius:10px}
    nav a:hover{background:#fff;border:1px solid #f0e6da}

    /* Mobile menu */
    .burger{display:none;border:0;background:transparent;padding:8px;line-height:0}
    @media (max-width:820px){
      nav ul{display:none;position:absolute;top:64px;left:0;right:0;background:#fff8f0;border-bottom:1px solid #f1e7db;padding:14px}
      nav ul.open{display:grid;gap:8px}
      .burger{display:block}
    }

    /* Hero */
    .hero{
      position:relative;isolation:isolate;
      background:
        radial-gradient(1000px 400px at 10% -10%, #ffe9ef 0, rgba(0,0,0,0) 60%),
        radial-gradient(800px 350px at 90% -20%, #ffe0d1 0, rgba(0,0,0,0) 60%),
        linear-gradient(180deg,#fff8f0 0,#fff 50%,#fff8f0 100%);
      border-bottom:1px solid #f1e7db;
    }
    .hero .wrap{display:grid;grid-template-columns:1.2fr .8fr;gap:30px;align-items:center;padding:40px 20px 30px}
    .tag{display:inline-block;background:linear-gradient(90deg,var(--blush),var(--peach));padding:6px 12px;border-radius:999px;font-weight:600;border:1px solid #f3d5c4}
    .big{font:400 clamp(28px,5vw,44px) "Playfair Display",serif;line-height:1.15;margin:.8rem 0}
    .scriptline{font-size:clamp(22px,4.2vw,32px);color:var(--accent)}
    .cta{display:flex;gap:12px;flex-wrap:wrap;margin-top:18px}
    .btn{
      border:1px solid #eadfce;background:#fff;border-radius:999px;padding:12px 18px;
      box-shadow:var(--shadow);
    }
    .btn.primary{background:linear-gradient(90deg,var(--blush),var(--peach));border-color:#f0cdb9}
    .note{color:var(--muted);font-size:.9rem}

    @media (max-width:820px){
      .hero .wrap{grid-template-columns:1fr;padding:22px 20px}
      .hero img{max-width:420px;margin:0 auto}
    }

    /* Cards & sections */
    section{padding:60px 0}
    .card{
      background:#fff;border:1px solid #f2e8db;border-radius:var(--radius);box-shadow:var(--shadow);
      padding:20px
    }

    /* Gallery */
    .gallery-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
    @media (max-width:1200px){.gallery-grid{grid-template-columns:repeat(3,1fr)}}
    @media (max-width:820px){.gallery-grid{grid-template-columns:repeat(2,1fr)}}
    .ph{aspect-ratio:1/1;background:linear-gradient(180deg,#fff,#fff8f0);border:1px dashed #e7d9c6;border-radius:12px;display:grid;place-items:center;color:#a79280}
    .upload-wrap{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-top:10px}

    /* Estimator */
    .grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:16px}
    @media (max-width:820px){.grid{grid-template-columns:1fr}}
    label{font-weight:600;font-size:.95rem}
    select,input[type="number"],input[type="text"],textarea{
      width:100%;padding:12px 14px;border:1px solid #e9dfd2;border-radius:10px;background:#fff
    }
    .row{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
    .pill{display:inline-flex;align-items:center;gap:8px;border:1px solid #e9dfd2;border-radius:999px;padding:8px 12px;background:#fff}
    .totals{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:10px}
    @media (max-width:820px){.totals{grid-template-columns:1fr}}
    .total-box{border:1px solid #f0e6da;border-radius:12px;padding:14px;background:#fff8f0}
    .total-box h3{margin:.2rem 0 .6rem}
    .paybuttons{display:flex;gap:12px;flex-wrap:wrap}

    /* Contact & CTA buttons */
    .cta-buttons{display:flex;gap:12px;flex-wrap:wrap}
    .iconbtn{
      display:inline-flex;align-items:center;gap:10px;padding:12px 16px;border:1px solid #eadfce;border-radius:999px;background:#fff;box-shadow:var(--shadow)
    }
    .hide-email .label{visibility:visible}
    .sr-only{position:absolute!important;clip:rect(1px,1px,1px,1px);padding:0;border:0;height:1px;width:1px;overflow:hidden}

    /* Footer */
    footer{border-top:1px solid #f1e7db;background:#fff; padding:24px 0 50px}
    .footgrid{display:grid;grid-template-columns:2fr 1fr 1fr;gap:20px}
    @media (max-width:820px){.footgrid{grid-template-columns:1fr;gap:10px}}
    .legal{color:#86766a;font-size:.9rem}

    /* SVG size tweak */
    svg{width:20px;height:20px}
  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <div class="wrap nav">
      <div class="brand">
        <img src="logo.svg" alt="Betti’s Sweets logo" onerror="this.onerror=null;this.src='logo.png'">
        <div class="wordmark">Betti’s Sweets</div>
      </div>
      <button class="burger" aria-label="Open menu" onclick="document.querySelector('nav ul').classList.toggle('open')">
        <!-- menu icon -->
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M3 6h18M3 12h18M3 18h18" stroke-width="1.5"/></svg>
      </button>
      <nav aria-label="Primary">
        <ul>
          <li><a href="#home">Home</a></li>
          <li><a href="#gallery">Gallery</a></li>
          <li><a href="#estimator">Design Your Cake</a></li>
          <li><a href="#faq">FAQ & Policies</a></li>
          <li><a href="#contact">Get a Quote</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Hero -->
  <section id="home" class="hero">
    <div class="wrap">
      <div>
        <span class="tag">Salford • Manchester, UK</span>
        <h1 class="big">Custom cakes & artisan pastries — made to order</h1>
        <div class="script scriptline">Romantic • Minimal • Modern</div>
        <p class="note">Pastel styling in blush, peach, ivory, champagne & rose-gold accents. Collection only — no home delivery.</p>
        <div class="cta">
          <a class="btn primary" href="#estimator">Design your cake</a>
          <a class="btn" href="#gallery">View gallery</a>
        </div>
      </div>
      <div>
        <!-- Optional hero image placeholder (replace with your own local/Instagram/iCloud link) -->
        <img src="" alt="" aria-hidden="true">
      </div>
    </div>
  </section>

  <!-- About -->
  <section id="about">
    <div class="wrap card">
      <h2>About Betti’s Sweets</h2>
      <p>We craft custom cakes, cupcakes and similar pastry products with a minimal, romantic aesthetic. Every piece is baked to order, with flavour pairings that are balanced and never overly sweet. Reduced sugar options are available on request.</p>
    </div>
  </section>

  <!-- Gallery -->
  <section id="gallery">
    <div class="wrap">
      <h2>Gallery</h2>
      <p class="note">Add your images from device / Instagram / iCloud / Google Photos. No stock images used.</p>
      <div class="gallery-grid" id="galleryGrid">
        <!-- Local placeholders (you can replace with real files or pasted links) -->
        <div class="ph">Add images below</div>
        <div class="ph">Add images below</div>
        <div class="ph">Add images below</div>
        <div class="ph">Add images below</div>
      </div>

      <div class="upload-wrap">
        <label class="pill">
          <input type="file" accept="image/*" multiple onchange="previewLocalImages(this.files)" />
          <span>Upload from device (preview only)</span>
        </label>
        <div class="pill" title="Paste shared links from Instagram/Google Photos/iCloud into Settings → Images">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><circle cx="12" cy="12" r="3" stroke-width="1.5"/><path d="M4.5 12h-2m19 0h-2M12 4.5v-2m0 19v-2M5.6 5.6l-1.4-1.4m15.6 15.6-1.4-1.4M18.4 5.6l1.4-1.4M4 20l1.4-1.4" stroke-width="1.5"/></svg>
          <span>Use shared links</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Estimator -->
  <section id="estimator">
    <div class="wrap card">
      <h2>Design Your Cake — Price Estimator</h2>
      <form id="estForm" name="cake-estimator" method="POST" data-netlify="true" netlify-honeypot="bot-field">
        <input type="hidden" name="form-name" value="cake-estimator">
        <p class="sr-only"><label>Don’t fill this out if you’re human: <input name="bot-field"></label></p>

        <div class="grid">
          <div>
            <label for="size">Size</label>
            <select id="size" name="Size" required>
              <option value="6">6" (serves ~10–14)</option>
              <option value="8" selected>8" (serves ~18–24)</option>
              <option value="10">10" (serves ~28–36)</option>
            </select>
          </div>
          <div>
            <label for="tiers">Tiers</label>
            <select id="tiers" name="Tiers">
              <option value="1" selected>1</option>
              <option value="2">2</option>
              <option value="3">3</option>
            </select>
          </div>

          <div>
            <label for="flavour">Sponge flavour</label>
            <select id="flavour" name="Flavour">
              <option>Vanilla</option><option>Chocolate</option><option>Red Velvet</option><option>Lemon</option><option>Carrot</option>
            </select>
          </div>
          <div>
            <label for="filling">Filling</label>
            <select id="filling" name="Filling">
              <option>Vanilla buttercream</option><option>Chocolate buttercream</option><option>Cream cheese</option><option>Lemon curd</option><option>Raspberry</option>
            </select>
          </div>

          <div>
            <label for="extras">Extras</label>
            <select id="extras" name="Extras" multiple size="4">
              <option value="flowers">Fresh florals</option>
              <option value="gold">Gold leaf / metallic accents</option>
              <option value="topper">Custom topper</option>
              <option value="textured">Textured finish</option>
            </select>
          </div>

          <div>
            <label for="date">Collection date</label>
            <input id="date" name="Collection date" type="text" placeholder="YYYY-MM-DD" inputmode="numeric" />
          </div>

          <div class="row">
            <label class="pill" title="Reduced sugar option (no artificial sweeteners)">
              <input type="checkbox" id="reduced" name="Reduced sugar"> Reduced sugar
            </label>
            <label class="pill" title="Rush fee applies if under 3 full working days">
              <input type="checkbox" id="rush" name="Rush order"> Rush order
            </label>
          </div>

          <div class="grid" style="grid-column:1/-1">
            <div class="total-box">
              <h3>Estimated Total</h3>
              <div id="total">£0.00</div>
              <input type="hidden" name="Estimated Total (GBP)" id="totalField">
            </div>
            <div class="total-box">
              <h3>50% Deposit</h3>
              <div id="deposit">£0.00</div>
              <input type="hidden" name="Deposit (GBP)" id="depositField">
            </div>
            <div class="total-box">
              <h3>Balance on Collection</h3>
              <div id="balance">£0.00</div>
              <input type="hidden" name="Balance (GBP)" id="balanceField">
            </div>
          </div>

          <div style="grid-column:1/-1">
            <label for="notes">Design notes (theme, colours, inspo links)</label>
            <textarea id="notes" name="Notes" rows="4" placeholder="E.g., blush & champagne, pampas, rose-gold accents. Paste Instagram/iCloud/Google Photos links here."></textarea>
          </div>
        </div>

        <div class="paybuttons" style="margin-top:14px">
          <!-- Stripe links: replace href values once you create Payment Links -->
          <a class="iconbtn" id="btnDeposit" href="#" target="_blank" rel="noopener" title="Request a secure deposit link">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M3 7h18M3 12h18M3 17h18" stroke-width="1.4"/></svg>
            <span>Request deposit link</span>
          </a>
          <a class="iconbtn" id="btnBalance" href="#" target="_blank" rel="noopener" title="Request a secure balance link">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><circle cx="12" cy="12" r="8" stroke-width="1.4"/><path d="M12 8v4l3 2" stroke-width="1.4"/></svg>
            <span>Request balance link</span>
          </a>
          <button class="iconbtn" type="submit" title="Send order details to Betti’s Sweets">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="m22 2-7 20-4-9-9-4Z" stroke-width="1.4"/><path d="M22 2 11 13" stroke-width="1.4"/></svg>
            <span>Send quote request</span>
          </button>
        </div>

        <p class="note">A 50% deposit is required to secure the order. One invoice; balance due on collection. Collection only (no delivery).</p>
      </form>
    </div>
  </section>

  <!-- FAQ / Policies -->
  <section id="faq">
    <div class="wrap card">
      <h2>FAQ & Policies</h2>
      <details><summary><strong>Lead time</strong></summary><p>Typical lead time is 5–10 days. Rush orders may be possible (fee applies if under 3 full working days).</p></details>
      <details><summary><strong>Dietary</strong></summary><p>We can offer reduced sugar. Please note we handle common allergens (gluten, eggs, dairy, nuts) in our kitchen.</p></details>
      <details open><summary><strong>Payments</strong></summary><p>50% deposit secures your booking. Remaining 50% due on collection under the same invoice.</p></details>
      <details open><summary><strong>Collection only</strong></summary><p>Orders are strictly <em>collection only</em>. We currently do not offer home delivery.</p></details>
      <details><summary><strong>Location</strong></summary><p>Salford • Manchester, UK.</p></details>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact">
    <div class="wrap card">
      <h2>Get in touch</h2>
      <div class="cta-buttons" style="margin-bottom:14px">
        <!-- Call -->
        <a class="iconbtn" href="tel:+447761297615" aria-label="Call Betti’s Sweets">
          <!-- phone -->
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M22 16.92v2a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6A19.79 19.79 0 0 1 2.09 4.2 2 2 0 0 1 4.11 2h2a2 2 0 0 1 2 1.72c.12.9.37 1.77.72 2.58a2 2 0 0 1-.45 2.11L7.09 9.91a16 16 0 0 0 6 6l1.5-1.27a2 2 0 0 1 2.11-.45 11.36 11.36 0 0 0 2.58.72A2 2 0 0 1 22 16.92z" stroke-width="1.4"/></svg>
          <span class="label">Call</span>
        </a>
        <!-- WhatsApp -->
        <a class="iconbtn" href="https://wa.me/447761297615" target="_blank" rel="noopener" aria-label="Open WhatsApp chat">
          <!-- whatsapp -->
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M20 11.3A8.7 8.7 0 1 1 11.3 2.6 8.7 8.7 0 0 1 20 11.3Z" stroke-width="1.4"/><path d="m3.6 20.4 1.4-4A8.7 8.7 0 1 0 20.4 12" stroke-width="1.4"/></svg>
          <span class="label">WhatsApp</span>
        </a>
        <!-- Emails hidden under icon buttons -->
        <a class="iconbtn hide-email" href="mailto:hello@bettissweets.co.uk?subject=General%20enquiry%20via%20website" aria-label="Email general enquiry (hello at bettissweets dot co dot uk)">
          <!-- mail -->
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="m4 6 8 6 8-6" stroke-width="1.4"/><rect x="3" y="5" width="18" height="14" rx="2" ry="2" stroke-width="1.4"/></svg>
          <span class="label">Email (general)</span>
        </a>
        <a class="iconbtn hide-email" href="mailto:cakes@bettissweets.co.uk?subject=Cake%20estimate%20request%20via%20website" aria-label="Email orders (cakes at bettissweets dot co dot uk)">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="m4 6 8 6 8-6" stroke-width="1.4"/><rect x="3" y="5" width="18" height="14" rx="2" ry="2" stroke-width="1.4"/></svg>
          <span class="label">Email (orders)</span>
        </a>
      </div>

      <!-- General contact form -->
      <form name="general-contact" method="POST" data-netlify="true" netlify-honeypot="bot-field">
        <input type="hidden" name="form-name" value="general-contact">
        <p class="sr-only"><label>Don’t fill this out if you’re human: <input name="bot-field"></label></p>
        <div class="grid">
          <div><label for="name">Name</label><input id="name" name="Name" required></div>
          <div><label for="phone">Phone</label><input id="phone" name="Phone" inputmode="tel" placeholder="+44 7…"></div>
          <div style="grid-column:1/-1"><label for="message">Message</label><textarea id="message" name="Message" rows="4" required></textarea></div>
        </div>
        <div style="margin-top:12px">
          <button class="btn primary" type="submit">Send</button>
        </div>
        <p class="note">Or reach us on Instagram / Facebook / TikTok below.</p>
      </form>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="wrap footgrid">
      <div>
        <div class="script" style="font-size:28px;color:var(--accent)">Betti’s Sweets</div>
        <p class="legal">© <span id="year"></span> Betti’s Sweets • <a href="https://www.bettissweets.co.uk/">www.bettissweets.co.uk</a><br>
        Salford • Manchester, UK • Collection only</p>
      </div>
      <div>
        <h3>Follow</h3>
        <p class="cta-buttons">
          <a class="iconbtn" href="https://www.instagram.com/betti_sweets?igsh=OHg4Y28yeGFvcWI2&utm_source=qr" target="_blank" rel="noopener" aria-label="Instagram">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><rect x="3" y="3" width="18" height="18" rx="5" ry="5" stroke-width="1.4"/><circle cx="12" cy="12" r="3.2" stroke-width="1.4"/><circle cx="17.5" cy="6.5" r="1" /></svg>
            <span>Instagram</span>
          </a>
          <a class="iconbtn" href="https://www.facebook.com/share/15rjNJViaL/?mibextid=wwXIfr" target="_blank" rel="noopener" aria-label="Facebook">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z" stroke-width="1.4"/></svg>
            <span>Facebook</span>
          </a>
          <!-- NOTE: You gave a Facebook link for TikTok; update if needed -->
          <a class="iconbtn" href="https://www.tiktok.com/@bettis.sweets" target="_blank" rel="noopener" aria-label="TikTok">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M16 3c.3 1.8 1.4 3.2 3.4 3.7v3.1c-1.3.1-2.6-.3-3.8-1V14a5 5 0 1 1-4-4.9V13" stroke-width="1.4"/></svg>
            <span>TikTok</span>
          </a>
        </p>
      </div>
      <div>
        <h3>Contact</h3>
        <p class="legal">
          hello@bettissweets.co.uk (general)<br>
          cakes@bettissweets.co.uk (orders)<br>
          +44 7761 297615
        </p>
      </div>
    </div>
  </footer>

  <script>
    // Year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Mobile menu close on link tap
    document.querySelectorAll('nav a').forEach(a=>{
      a.addEventListener('click', ()=>document.querySelector('nav ul').classList.remove('open'));
    });

    // Gallery config: paste your shared image URLs here (Instagram/iCloud/Google Photos direct media links)
    const IMAGE_URLS = [
      // "https://.../your-image1.jpg",
      // "https://.../your-image2.jpg"
    ];

    // Render config images (if any)
    function renderConfigImages(){
      const grid=document.getElementById('galleryGrid');
      if(!IMAGE_URLS.length) return;
      grid.innerHTML='';
      IMAGE_URLS.forEach(u=>{
        const img=new Image();
        img.loading='lazy';
        img.decoding='async';
        img.src=u;
        img.alt='Cake by Betti’s Sweets';
        img.style.borderRadius='12px';
        img.style.border='1px solid #efe3d4';
        img.style.background='#fff';
        grid.appendChild(img);
      });
    }
    renderConfigImages();

    // Local preview (does not upload, just previews)
    function previewLocalImages(files){
      const grid=document.getElementById('galleryGrid');
      grid.innerHTML='';
      [...files].forEach(file=>{
        const url=URL.createObjectURL(file);
        const img=new Image();
        img.src=url; img.loading='lazy'; img.decoding='async';
        img.alt='Local preview — not uploaded';
        img.style.borderRadius='12px';
        img.style.border='1px solid #efe3d4';
        grid.appendChild(img);
      });
    }

    // Estimator logic
    const sizeBase = { "6": 65, "8": 85, "10": 115 }; // base single-tier
    const tierAdd  = { "6": 55, "8": 70, "10": 90  }; // per extra tier
    const extraCost= { flowers: 18, gold: 15, topper: 20, textured: 12 };
    const reducedSugarFee = 6; // optional surcharge for alt ingredients
    const rushFee = 15; // small rush fee

    const els = {
      size:    document.getElementById('size'),
      tiers:   document.getElementById('tiers'),
      extras:  document.getElementById('extras'),
      reduced: document.getElementById('reduced'),
      rush:    document.getElementById('rush'),
      total:   document.getElementById('total'),
      deposit: document.getElementById('deposit'),
      balance: document.getElementById('balance'),
      totalField: document.getElementById('totalField'),
      depositField: document.getElementById('depositField'),
      balanceField: document.getElementById('balanceField'),
      btnDeposit: document.getElementById('btnDeposit'),
      btnBalance: document.getElementById('btnBalance'),
      form: document.getElementById('estForm')
    };

    function gbp(n){ return new Intl.NumberFormat('en-GB',{style:'currency',currency:'GBP'}).format(n); }

    function calc(){
      const s=els.size.value;
      const t=+els.tiers.value;
      let total=sizeBase[s] + (t-1)*tierAdd[s];

      // extras
      [...els.extras.selectedOptions].forEach(o=> total += extraCost[o.value] || 0);

      if(els.reduced.checked) total += reducedSugarFee;
      if(els.rush.checked) total += rushFee;

      const deposit = Math.round((total*0.5)*100)/100;
      const balance = Math.max(total - deposit, 0);

      els.total.textContent=gbp(total);
      els.deposit.textContent=gbp(deposit);
      els.balance.textContent=gbp(balance);

      els.totalField.value=total.toFixed(2);
      els.depositField.value=deposit.toFixed(2);
      els.balanceField.value=balance.toFixed(2);

      // Prefilled WhatsApp/email message with summary (used by "Request link" buttons)
      const summary = `Cake estimate: ${gbp(total)} (Deposit ${gbp(deposit)}, Balance ${gbp(balance)}) — Size ${s}" / ${t} tier(s).`;
      const wa = `https://wa.me/447761297615?text=${encodeURIComponent('Hello! '+summary+' Please send me a secure payment link.')}`;
      const mail = `mailto:cakes@bettissweets.co.uk?subject=${encodeURIComponent('Deposit link request')}&body=${encodeURIComponent(summary+'\n\nNotes: ')}`;
      els.btnDeposit.href = wa; // or set to Stripe Payment Link when ready
      els.btnBalance.href = mail; // placeholder; you can also use another WA link
    }
    ['change','input'].forEach(evt=>{
      document.getElementById('estimator').addEventListener(evt, calc, true);
    });
    calc();

    // Prevent iOS input zoom by matching font-size >= 16px (already set via CSS)
  </script>
</body>
</html>